> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

DatabaseStorage initialized - using hybrid database setup
- User data: Cloud PostgreSQL database
- Music data: Local SQLite database
âœ… Stripe initialized successfully for subscriptions
ğŸ”‘ Stripe API Mode: LIVE MODE âš ï¸
âš ï¸ WARNING: Using live Stripe keys - test cards will be declined!
âœ… Stripe initialized successfully for payments
âœ… Stripe initialized successfully for monitoring
ğŸš€ Starting application initialization...
ğŸ” Deployment info: {
  nodeVersion: 'v20.19.3',
  platform: 'linux',
  environment: 'development',
  timestamp: '2025-09-05T03:03:11.355Z'
}
ğŸ“ Step 1/5: Creating required directories...
âœ… data directory verified and writable
âœ… public directory verified and writable
âœ… uploads directory verified and writable
âœ… attached_assets directory verified and writable
âœ… Directory structure fully verified
âœ… Step 1/5: Directory creation completed
ğŸ”§ Step 2/5: Validating environment variables...
âœ… Environment variables validated successfully
ğŸ” Environment variable status:
  âœ… DATABASE_URL: postgres...
  âœ… PORT: 5000
  âœ… NODE_ENV: development
  âš ï¸ REQUIRE_SECRETS: not set
  âš ï¸ DEPLOYMENT_TEST: not set
  âš ï¸ GRACEFUL_DEGRADATION: not set
âœ… Step 2/5: Environment validation completed
ğŸ“‹ Step 3/5: Setting up routes and server...
ğŸ”§ Starting route registration...
ğŸ” Setting up authentication middleware...
âœ… Auth strategy configured for domain: 8003ebbc-7c24-44f5-a60e-826fca6862d2-00-2focubqywwqvm.kirk.replit.dev
âœ… Authentication setup completed with 1/1 domains
âœ… Authentication middleware configured successfully
âœ… Authentication routes registered
ğŸ“¦ Registering sample file download routes...
âœ… Sample file download routes registered
ğŸ’³ Registering Stripe payment routes...
ğŸ’³ Registering active Stripe payment routes...
ğŸ’³ Registering Stripe payment routes...
setAutoSaveCallback: Data auto-saves to local SQLite database
ğŸ—„ï¸ Registering database storage routes...
ğŸµ Registering song management routes...
ğŸ§ Registering track management routes...
ğŸ“Š Registering waveform caching routes...
ğŸ” Registering lyrics search routes...
ğŸ“ Registering file registry routes...
ğŸŒ Creating HTTP server...
âœ… HTTP server created successfully
ğŸ¯ Route registration completed successfully
âœ… Step 3/5: Routes registered successfully
âš™ï¸ Step 4/5: Setting up file serving...
ğŸ” Environment mode: development
ğŸ”§ Setting up Vite development server...
âœ… Step 4/5: Vite development server configured
ğŸŒ Step 5/5: Starting server...
ğŸ” Server configuration: {
  port: 5000,
  host: '0.0.0.0',
  environment: 'development',
  timestamp: '2025-09-05T03:03:11.646Z'
}
ğŸ‰ Step 5/5: Server started successfully!
3:03:11 AM [express] serving on port 5000
ğŸ”— Application available at: http://0.0.0.0:5000
ğŸ” Full startup summary: {
  directories: true,
  environment: true,
  routes: true,
  fileServing: true,
  server: true
}
ğŸ” Starting subscription status check...
ğŸ” Starting subscription status check...
ğŸ“… Subscription monitor started - checking every 24 hours
âœ… Subscription monitoring started
âœ… Updated subscription for user user_1755820135782_sfgt53h34: status=1
âŒ Subscription not found for subscription-test@example.com, set to free
âœ… Subscription check completed for 1 users
Browserslist: browsers data (caniuse-lite) is 11 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
ğŸ’¥ Uncaught Exception caught: {
  message: 'terminating connection due to administrator command',
  name: 'error',
  stack: 'error: terminating connection due to administrator command\n' +
    '    at cn.parseErrorMessage (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1182:6)\n' +
    '    at cn.handlePacket (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1143:13)\n' +
    '    at cn.parse (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1127:36)\n' +
    '    at v.<anonymous> (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1190:16)\n' +
    '    at v.emit (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:397:12)\n' +
    '    at WebSocket.<anonymous> (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:987:80)\n' +
    '    at callListener (/home/runner/workspace/node_modules/ws/lib/event-target.js:290:14)\n' +
    '    at WebSocket.onMessage (/home/runner/workspace/node_modules/ws/lib/event-target.js:209:9)\n' +
    '    at WebSocket.emit (node:events:524:28)',
  timestamp: '2025-09-05T03:03:13.534Z',
  environment: 'development',
  nodeVersion: 'v20.19.3',
  platform: 'linux'
}
ğŸ”§ Attempting graceful shutdown in 2000ms...
ğŸ›‘ Forced exit after uncaught exception
